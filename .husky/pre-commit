#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# lint js/ts files
echo ðŸ§¿ Running file linter...
npx lint-staged

# format svg
echo ðŸ§¿ Running svg formatter...
for file in `git diff --diff-filter=ACMRT --cached --name-only | grep ".svg\$"`
    do 
        echo "Formatting $file" 
        ./node_modules/.bin/svgo -q $file 
        git add $file
    done

# format svg
echo ðŸ§¿ Running marketplace config validator...
./deploy/scripts/validate_marketplace_config.sh

echo âœ… All pre-commit jobs are done
